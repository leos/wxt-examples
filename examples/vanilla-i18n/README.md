<!-- Generated by scripts/generate-diffs.ts -->

# I18n

> Based off the [`vanilla`](https://github.com/wxt-dev/wxt/tree/main/templates/vanilla) template.
>
> ```sh
> npx wxt@latest init --template vanilla
> ```

This example walks you through setting up a localized manifest.json and accessing the localizations at runtime.

> [!IMPORTANT]
> Before going through this example, you should familiarize yourself with how to localize a plain, non-WXT extension by reading [Chrome's docs](https://developer.chrome.com/docs/extensions/reference/i18n/).

## Add Translations

Web extensions are localized by including a `_locales` folder in the bundled extension. This can be accomplished with WXT by creating the `_locales` directory inside WXT's [public directory](https://wxt.dev/guide/assets.html#public-directory).

###### public/\_locales/en/messages.json

```json
{
  "extName": {
    "message": "I18n Example"
  },
  "extDescription": {
    "message": "Example of how to localize a WXT web extension."
  },
  "someAppText": {
    "message": "Some translated text"
  }
}
```

###### public/\_locales/ko/messages.json

```json
{
  "extName": {
    "message": "I18n 예제"
  },
  "extDescription": {
    "message": "WXT 웹 확장 프로그램을 지역화하는 방법의 예."
  },
  "someAppText": {
    "message": "일부 번역된 텍스트"
  }
}
```

## Manifest Translations

By default, WXT uses your `package.json` name and description as the manifest's name and description. We can change this behavior by overriding those keys in your `wxt.config.ts` file to use the localized versions.

###### wxt.config.ts

```diff
@@ -1,4 +1,10 @@
 import { defineConfig } from 'wxt';

 // See https://wxt.dev/api/config.html
-export default defineConfig({});
+export default defineConfig({
+  manifest: {
+    name: '__MSG_extName__',
+    description: '__MSG_extDescription__',
+    default_locale: 'en',
+  },
+});
```

We also setup a default locale, in this case English (`en`), that will be used when a user's language is not supported.

## Runtime Translations

To get a translation at runtime, you can call `browser.i18n.getMessage`. This works in the background, content scripts, popup, options, etc. Anywhere in your extension (other than sandboxed pages).

###### entrypoints/background.ts

```diff
@@ -1,3 +1,8 @@
 export default defineBackground(() => {
   console.log('Hello background!', { id: browser.runtime.id });
+
+  console.log(
+    browser.i18n.getMessage('extName'),
+    browser.i18n.getMessage('someAppText'),
+  );
 });
```

###### entrypoints/popup/main.ts

```diff
@@ -9,12 +9,13 @@ document.querySelector<HTMLDivElement>('#app')!.innerHTML = `
       <img src="${viteLogo}" class="logo" alt="WXT logo" />
     </a>
     <a href="https://www.typescriptlang.org/" target="_blank">
       <img src="${typescriptLogo}" class="logo vanilla" alt="TypeScript logo" />
     </a>
     <h1>WXT + TypeScript</h1>
+    <h2>${browser.i18n.getMessage('someAppText')}</h2>
     <div class="card">
       <button id="counter" type="button"></button>
     </div>
     <p class="read-the-docs">
       Click on the WXT and TypeScript logos to learn more
     </p>
```

> `browser.i18n.getMessage` is typed to make sure the message you're getting actually exists.
